{% extends 'base.html' %}
{% load static %}

{% block title %}My Posts{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/my_post.css' %}">
{% endblock %}

{% block content %}

<div class="my-posts-container">

    <h2>My Posts</h2>

    {% if post %}
        <div class="posts-grid">
            {% for post in post %}
                <div class="post-card">
    <h3>{{ post.title }}</h3>

    <p class="post-meta">
        Created on {{ post.created_at|date:"M d, Y" }}
    </p>

    <p class="post-preview">
        {{ post.content|truncatewords:20 }}
    </p>

    <div class="post-actions">
        <a href="{% url 'blog_detail' post.id %}" class="btn view">View</a>
        <a href="{% url 'edit_post' post.id %}" class="btn edit">Edit</a>
        <a href="{% url 'delete_post' post.id %}" class="btn delete">Delete</a>
    </div>
</div>
            {% endfor %}
        </div>
        
    {% elif query %}
    <div class="no-blog-wrapper">
        <p class="empty-text">No posts found for "{{ query }}".</p>
        </div>
    {% else %}
        <div class="no-blog-wrapper">
        <p class="empty-text">You havenâ€™t created any posts yet.</p>
        <a href="{% url 'new_post' %}" class="create-btn">Create your first post</a>
        </div>
    {% endif %}
    </div>

</div>

{% endblock %}
